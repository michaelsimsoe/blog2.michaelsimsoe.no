<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hva er ng-template i Angular?</title>
  <link rel="stylesheet" href="../styles.css">
</head>
<body>
  <header>
    <h1>{{title}}</h1>
  </header>
  <main>
    <p><em>Jeg skal bli den beste Angularutvikleren jeg kan bli. For å bli best må man kunne det grunnleggende godt. Meget godt!</em></p>
<h1>🤔 Hva er greia med ng-template?</h1>
<p>I korte trekk: ng-template er direktivet som produseres i bakkant når du bruker snacksy angularsukker som *ngIf og *ngFor.</p>
<p>Du skriver dette:</p>
<pre><code class="language-javascript">&lt;div *ngIf=&quot;noe som kan være sant&quot;&gt;
    Et eller annet..
&lt;/div&gt;
</code></pre>
<p>og Angular produserer no a la dette i bakkant:</p>
<pre><code class="language-javascript">&lt;ng-template [ngIf]=&quot;noe som kan være sant&quot;&gt;
  &lt;div&gt;
    Et eller annet..
  &lt;/div&gt;
&lt;/ng-template&gt;
</code></pre>
<p>Ikke så veldig livsendrende informasjon å sitte på, men kult å vite. Uansett så har du nok vært borti iværtfall to anledning hvor du har vært nødt til å benytte ng-template.</p>
<h3>🔀 En else til din ngIf</h3>
<p>Du kan selvfølgelig fyre opp en *ngIf for både den positive og den negative tilstanden, sånn ca. slik:</p>
<pre><code class="language-javascript">&lt;div *ngIf=&quot;noe&quot;&gt;
    Et eller annet..
&lt;/div&gt;

&lt;div *ngIf=&quot;!noe&quot;&gt;
    Et eller annet annet...
&lt;/div&gt;
</code></pre>
<p>For så vidt greit. Innhold inne i <ng-template></ng-template> vil ikke i utgangspunktet vise seg, det må ha ett eller annet som driver det frem. Men hvis du bruker dem med en template reference variable kan du referere til elemente i andre sammenhenger og få frem innholdet.</p>
<pre><code class="language-javascript">&lt;div *ngIf=&quot;noe else alternativet&quot;&gt;
    Et eller annet..
&lt;/div&gt;

&lt;ng-template #alternativet&quot;&gt;
    Et eller annet annet...
&lt;/ng-template&gt;
</code></pre>
<p>eller evt.</p>
<pre><code class="language-javascript">&lt;ng-template [ngIf=&quot;noe&quot;] [ngIfElse]=&quot;alternativet&quot;&gt;
    Et eller annet..
&lt;/ng-template&gt;

&lt;ng-template #alternativet&quot;&gt;
    Et eller annet annet...
&lt;/ng-template&gt;
</code></pre>
<p>for *ngFor blir magien i bakkant slik:</p>
<pre><code class="language-javascript">  // det som skal itereres over
  const persons = [
    {name: &#39;geir&#39;},
    {name: &#39;tore&#39;},
    {name: &#39;berit&#39;},
  ]

&lt;ul&gt;
  &lt;li *ngFor=&quot;let person of persons; let i = index;&quot;&gt;{{ i }}: {{ person.name }}&lt;/li&gt;
&lt;/ul&gt;

// Blir det samme som:

&lt;ul&gt;
  &lt;ng-template ngFor let-person let-i=&quot;index&quot; [ngForOf]=&quot;persons&quot;&gt;
    &lt;li&gt;{{ i }}: {{ person.name }}&lt;/li&gt;
  &lt;/ng-template&gt;
&lt;/ul&gt;
</code></pre>
<br />

<h3>🛑 Flere strukturelle direktiver på samme element? Njet!</h3>
<p>Det hender jo absolutt innimellom at man ønsker å løkke gjennom noe &#39;hvis&#39; ett eller annet. Da hadde det jo vært glimrende å kunne gjøre noe slikt:</p>
<pre><code class="language-javascript">  &lt;div *ngFor=&quot;let cat of cats&quot; *ngIf=&quot;noDogs&quot;&gt;
    {{ cat.hungry? }}
  &lt;/div&gt;
</code></pre>
<p>Akk, men nei! Det lar seg ei gjøre. Løsning kan jo tenkes å bli noe slik da:</p>
<pre><code class="language-javascript">  &lt;div  *ngIf=&quot;noDogs&quot;&gt;
    &lt;div *ngFor=&quot;let cat of cats&quot;&gt;
      {{ cat.hungry? }}
    &lt;/div&gt;
  &lt;/div&gt;
</code></pre>
<p>Litt skittent med litt ekstra fjas i dokumentet 🚯, så hva hvis vi henter inn en venn av ng-template? La meg introdusere ng-content!</p>
<pre><code class="language-javascript">  &lt;ng-content  *ngIf=&quot;noDogs&quot;&gt;
    &lt;div *ngFor=&quot;let cat of cats&quot;&gt;
      {{ cat.hungry? }}
    &lt;/div&gt;
  &lt;/ng-content&gt;
</code></pre>
<p>🏆 Kult! Fungerer som bare det. ng-content har så meget kult å by på. Jeg tenker at vi gløtter litt mer på den i en egen post.</p>

  </main>
  <footer>
    <p>&copy; 2024 My Blog</p>
  </footer>
</body>
</html>
